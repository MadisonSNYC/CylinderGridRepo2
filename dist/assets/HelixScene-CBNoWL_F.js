import{j as r}from"./helix-core-DySbo_Am.js";import{r as a}from"./vendor-ui-CBvPNmAj.js";import"./utils-YRK4nHdM.js";import"./contexts-CiV3r1Go.js";import"./effects-DWLvlX5b.js";import"./vendor-react-DJG_os-6.js";const w=[{id:"1",title:"Loop One",poster:"/placeholder1.jpg",src:null},{id:"2",title:"Loop Two",poster:"/placeholder2.jpg",src:null},{id:"3",title:"Loop Three",poster:"/placeholder3.jpg",src:"/video3.mp4"},{id:"4",title:"Loop Four",poster:"/placeholder4.jpg",src:null},{id:"5",title:"Loop Five",poster:"/placeholder5.jpg",src:null},{id:"6",title:"Loop Six",poster:"/placeholder6.jpg",src:"/video6.mp4"},{id:"7",title:"Loop Seven",poster:"/placeholder7.jpg",src:null},{id:"8",title:"Loop Eight",poster:"/placeholder8.jpg",src:null},{id:"9",title:"Loop Nine",poster:"/placeholder9.jpg",src:"/video9.mp4"}],u=w.map((t,e)=>({...t,type:e%3===2&&t.src?"video":"image"})),v="_crt_qw5ds_2",j="_helixContainer_qw5ds_11",b="_card_qw5ds_24",x={crt:v,helixContainer:j,card:b,"scene-vignette":"_scene-vignette_qw5ds_71","wireframe-logo":"_wireframe-logo_qw5ds_90"};function L({item:t,active:e,hydrate:i,style:c,reducedMotion:d}){const l=a.useRef(null),[s,p]=a.useState(!1),n=t.type==="video"&&!d;return a.useEffect(()=>{if(!n||!l.current)return;const o=l.current;i&&!s?(o.src=t.src,o.load(),p(!0)):!i&&s&&(o.pause(),o.removeAttribute("src"),o.load(),p(!1))},[i,s,n,t.src]),a.useEffect(()=>{if(!n||!l.current||!s)return;const o=l.current;e?(o.muted=!0,o.playsInline=!0,o.loop=!0,o.play().catch(()=>{})):o.pause()},[e,n,s]),r.jsxs("div",{"data-kind":"card","data-active":e,"data-hydrated":s,className:`${x.card} helix-node`,style:{...c,width:"240px",height:"427px",display:"flex",alignItems:"center",justifyContent:"center",border:e?"2px solid #00ffff":"1px solid rgba(255,255,255,0.2)",background:"rgba(0,0,0,0.9)",borderRadius:"12px",overflow:"hidden",boxShadow:e?"0 0 30px rgba(0,255,255,0.5)":"none",transition:"border 0.3s, box-shadow 0.3s"},tabIndex:e?0:-1,"aria-hidden":!e,role:"article","aria-label":t.title,children:[n?r.jsx("video",{ref:l,"data-video":"true",poster:t.poster,muted:!0,playsInline:!0,loop:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}):r.jsx("img",{src:t.poster,alt:t.title,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),r.jsx("div",{className:"title",style:{position:"absolute",bottom:"12px",left:"12px",right:"12px",color:"#fff",fontSize:"14px",fontWeight:"600",background:"linear-gradient(to top, rgba(0,0,0,0.9), transparent)",padding:"8px",borderRadius:"4px"},children:t.title})]})}function S(){const[t,e]=a.useState(0);return a.useEffect(()=>{const i=()=>{const c=document.querySelector('section[aria-label="Loops 3D Gallery"]');if(!c)return;const d=c.getBoundingClientRect(),s=(c.scrollHeight||window.innerHeight*3)-window.innerHeight,p=-d.top,n=Math.max(0,Math.min(1,p/s));e(n*360)};return window.addEventListener("scroll",i,{passive:!0}),i(),()=>window.removeEventListener("scroll",i)},[]),{rotationDeg:t}}const _="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20200%20200'%20width='200'%20height='200'%3e%3cdefs%3e%3cstyle%3e%20.wireframe%20{%20fill:%20none;%20stroke:%20rgba(0,255,255,0.2);%20stroke-width:%201.5;%20}%20%3c/style%3e%3c/defs%3e%3c!--%20Monitor%20outline%20--%3e%3crect%20x='20'%20y='30'%20width='160'%20height='120'%20class='wireframe'/%3e%3c!--%20Screen%20--%3e%3crect%20x='30'%20y='40'%20width='140'%20height='100'%20class='wireframe'/%3e%3c!--%20Grid%20lines%20--%3e%3cg%20class='wireframe'%3e%3cline%20x1='30'%20y1='60'%20x2='170'%20y2='60'/%3e%3cline%20x1='30'%20y1='80'%20x2='170'%20y2='80'/%3e%3cline%20x1='30'%20y1='100'%20x2='170'%20y2='100'/%3e%3cline%20x1='30'%20y1='120'%20x2='170'%20y2='120'/%3e%3cline%20x1='50'%20y1='40'%20x2='50'%20y2='140'/%3e%3cline%20x1='70'%20y1='40'%20x2='70'%20y2='140'/%3e%3cline%20x1='100'%20y1='40'%20x2='100'%20y2='140'/%3e%3cline%20x1='130'%20y1='40'%20x2='130'%20y2='140'/%3e%3cline%20x1='150'%20y1='40'%20x2='150'%20y2='140'/%3e%3c/g%3e%3c!--%20Stand%20--%3e%3crect%20x='90'%20y='150'%20width='20'%20height='20'%20class='wireframe'/%3e%3cline%20x1='70'%20y1='170'%20x2='130'%20y2='170'%20class='wireframe'/%3e%3c!--%20Center%20logo%20element%20--%3e%3ccircle%20cx='100'%20cy='90'%20r='25'%20class='wireframe'/%3e%3ccircle%20cx='100'%20cy='90'%20r='15'%20class='wireframe'/%3e%3ccircle%20cx='100'%20cy='90'%20r='5'%20class='wireframe'/%3e%3c/svg%3e";function N(){const{rotationDeg:t}=S(),e=u.length,i=360/e,c=220,d=80,l=Math.round((360-t%360)/i)%e,s=1,p=a.useMemo(()=>new Set(Array.from({length:2*s+1},(o,h)=>(l-s+h+e)%e)),[l,e]),n=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;return r.jsxs("div",{className:`${x.crt} ${x["scene-vignette"]}`,style:{position:"relative",width:"100%",height:"100%"},children:[r.jsx("img",{src:_,alt:"",className:x["wireframe-logo"],style:{width:"300px",height:"300px"}}),r.jsx("div",{className:x.helixContainer,style:{transform:`rotateX(-10deg) rotateY(${t}deg)`,transformStyle:"preserve-3d",position:"relative",width:"100%",height:"100%"},children:u.map((o,h)=>{const g=h*i,f=h*d-e*d/2,y=h===l,m=p.has(h);return r.jsx(L,{item:o,active:y,hydrate:m,reducedMotion:n,style:{transform:`rotateY(${g}deg) translateZ(${c}px) translateY(${f}px) rotateY(${-g}deg)`,transformStyle:"preserve-3d",position:"absolute",left:"50%",top:"50%",marginLeft:"-120px",marginTop:"-213px"}},o.id)})})]})}function A(){return r.jsxs("section",{className:"relative","aria-label":"Loops 3D Gallery",children:[r.jsx("div",{className:"sticky top-0 h-screen overflow-hidden",children:r.jsxs("div",{className:`${x.crt} relative h-full grid place-items-center`,style:{perspective:"1200px"},children:[r.jsx("a",{href:"#loops-list",className:"sr-only focus:not-sr-only absolute left-4 top-4 z-50",children:"Skip 3D view"}),r.jsx(N,{})]})}),r.jsx("div",{id:"loops-list",className:"sr-only focus:not-sr-only p-6",children:r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"All Loops"})}),r.jsx("div",{style:{height:"300vh"}})]})}export{A as default};
